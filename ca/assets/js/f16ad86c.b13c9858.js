"use strict";(self.webpackChunkmarkdown_website=self.webpackChunkmarkdown_website||[]).push([[938],{2086:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"gisce/orm/orm","title":"Utilitzacio basica de ORM","description":"- Obtenir el pool","source":"@site/docs/gisce/orm/orm.md","sourceDirName":"gisce/orm","slug":"/gisce/orm/","permalink":"/ca/docs/gisce/orm/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Com fer una migracio","permalink":"/ca/docs/gisce/migrations/migration"},"next":{"title":"Fields ORM","permalink":"/ca/docs/gisce/orm/fields"}}');var l=i(4848),s=i(8453);const d={},a="Utilitzacio basica de ORM",c={},o=[{value:"Obtenir el pool",id:"obtenir-el-pool",level:2},{value:"ERP",id:"erp",level:3},{value:"iPython",id:"ipython",level:3},{value:"Llegir dades (read)",id:"llegir-dades-read",level:2},{value:"Parametres",id:"parametres",level:3},{value:"Retorn",id:"retorn",level:3},{value:"Exemple",id:"exemple",level:3},{value:"Escriure dades (write)",id:"escriure-dades-write",level:2},{value:"Parametres",id:"parametres-1",level:3},{value:"Retorn",id:"retorn-1",level:3},{value:"Exemple",id:"exemple-1",level:3}];function t(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"utilitzacio-basica-de-orm",children:"Utilitzacio basica de ORM"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.a,{href:"#obtenir-el-pool",children:"Obtenir el pool"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#erp",children:"ERP"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#ipython",children:"iPython"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.a,{href:"#llegir-dades-read",children:"Llegir dades (read)"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#parametres",children:"Parametres"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#retorn",children:"Retorn"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#exemple",children:"Exemple"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.a,{href:"#escriure-dades-write",children:"Escriure dades (write)"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#parametres-1",children:"Parametres"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#retorn-1",children:"Retorn"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"#exemple-1",children:"Exemple"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"obtenir-el-pool",children:"Obtenir el pool"}),"\n",(0,l.jsx)(r.p,{children:"Per a obtenir el pool d'un objecte, es fara de dos maneres diferents, depenent de si estem a l'erp o a ipython."}),"\n",(0,l.jsxs)(r.p,{children:["Posarem l'exemple de l'objecte ",(0,l.jsx)(r.code,{children:"giscedata.polissa"}),":"]}),"\n",(0,l.jsx)(r.h3,{id:"erp",children:"ERP"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"pol_obj = self.pool.get('giscedata.polissa')\n"})}),"\n",(0,l.jsx)(r.h3,{id:"ipython",children:"iPython"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"pol_obj = c.model('giscedata.polissa')\n"})}),"\n",(0,l.jsx)(r.h2,{id:"llegir-dades-read",children:"Llegir dades (read)"}),"\n",(0,l.jsxs)(r.p,{children:["Per llegir dades utilitzarem el m\xe8tode ",(0,l.jsx)(r.code,{children:"read()"}),", el qual reb varis parametres."]}),"\n",(0,l.jsx)(r.h3,{id:"parametres",children:"Parametres"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"cursor: Cursor per llegir"}),"\n",(0,l.jsx)(r.li,{children:"uid: Id de l'usuari que llegeix"}),"\n",(0,l.jsx)(r.li,{children:"id/ids: Un id o varis dintre d'una llista"}),"\n",(0,l.jsx)(r.li,{children:"fields: Quines columnes volem llegir"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"retorn",children:"Retorn"}),"\n",(0,l.jsx)(r.p,{children:"El retorn dependra de si li donem una id o varies ids, en cas de donar-li una sola id, ens retornara un diccionari amb els camps solicitats i id, sempre retornara el camp id. En cas de donar-li una llista de ids, rebrem una llista plena de diccionaris, un per cada id."}),"\n",(0,l.jsx)(r.h3,{id:"exemple",children:"Exemple"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"pol_obj.read(cursor, uid, 150, [\"cups\"])\n# -> {'cups': [154, 'ES0031408260002001FA0F'], 'id': 150}\npol_obj.read(cursor, uid, [150, 160], [\"cups\"])\n# -> [\n# ->   {'cups': [154, 'ES0031408260002001FA0F'], 'id': 150},\n# ->   {'cups': [165, 'ES0031408248775014YY0F'], 'id': 160}\n# -> ]\n"})}),"\n",(0,l.jsx)(r.h2,{id:"escriure-dades-write",children:"Escriure dades (write)"}),"\n",(0,l.jsxs)(r.p,{children:["Per escriure dades utilitzarem el metode ",(0,l.jsx)(r.code,{children:"write()"}),", el qual reb varis parametres."]}),"\n",(0,l.jsx)(r.h3,{id:"parametres-1",children:"Parametres"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"5"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"retorn-1",children:"Retorn"}),"\n",(0,l.jsx)(r.h3,{id:"exemple-1",children:"Exemple"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"pol_obj.write(cursor, uid, pol_id, {'alias': '(Test Alias)'})\n"})})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453:(e,r,i)=>{i.d(r,{R:()=>d,x:()=>a});var n=i(6540);const l={},s=n.createContext(l);function d(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);