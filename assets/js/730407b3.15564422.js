"use strict";(self.webpackChunkmarkdown_website=self.webpackChunkmarkdown_website||[]).push([[6715],{7124:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>p,contentTitle:()=>c,default:()=>d,frontMatter:()=>l,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"gisce/procediments/import_sips_old","title":"Importar SIPS","description":"Descarregar SIPS","source":"@site/docs/gisce/procediments/import_sips_old.md","sourceDirName":"gisce/procediments","slug":"/gisce/procediments/import_sips_old","permalink":"/docs/gisce/procediments/import_sips_old","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"gisceSidebar","previous":{"title":"Importar SIPS (SIPS_Importer)","permalink":"/docs/gisce/procediments/import_sips"},"next":{"title":"Install Languages","permalink":"/docs/gisce/procediments/install_language"}}');var a=r(4848),i=r(8453);const l={},c="Importar SIPS",p={},t=[{value:"Descarregar SIPS",id:"descarregar-sips",level:2},{value:"Preparant la importacio",id:"preparant-la-importacio",level:2},{value:"Enviar els sips al servidor",id:"enviar-els-sips-al-servidor",level:3},{value:"Preparar zips per a la c\xe0rrega",id:"preparar-zips-per-a-la-c\xe0rrega",level:2},{value:"Executar carrega",id:"executar-carrega",level:2},{value:"Carrega Punts de Subministrament",id:"carrega-punts-de-subministrament",level:3},{value:"Carrega Consums",id:"carrega-consums",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"importar-sips",children:"Importar SIPS"})}),"\n",(0,a.jsx)(s.h2,{id:"descarregar-sips",children:"Descarregar SIPS"}),"\n",(0,a.jsx)(s.p,{children:"El client ens envia els zips amb tots els SIPS, els descarregarem i guardarem dins d'una carpeta."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"/gisce/procediments/import_sips/image.png",alt:"zips_en_carpeta"})}),"\n",(0,a.jsx)(s.p,{children:"Seran un total de 8 arxius, 4 de PS i 4 de CONSUMOS i son els seguents: ELECTRICIDAD_baleares, ELECTRICIDAD_canarias, ELECTRICIDAD_peninsular i GAS_nacional."}),"\n",(0,a.jsx)(s.p,{children:"Depen del client potser nomes hi haura ELECTRICIDAD_peninsular."}),"\n",(0,a.jsx)(s.h2,{id:"preparant-la-importacio",children:"Preparant la importacio"}),"\n",(0,a.jsx)(s.h3,{id:"enviar-els-sips-al-servidor",children:"Enviar els sips al servidor"}),"\n",(0,a.jsxs)(s.p,{children:["Utilitzarem la comanda ",(0,a.jsx)(s.code,{children:"scp"})," per poder enviar tots els zips al servidor:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ShellSession",children:"localhost:~$ scp *.zip {server}:/home/gisce/sips\n202502_SIPS2_CONSUMOS_ELECTRICIDAD_peninsular.zip                                            100%   18GB  59.4MB/s   05:12\n202502_SIPS2_PS_ELECTRICIDAD_peninsular.zip                                                  100%  934MB  60.4MB/s   00:15\n"})}),"\n",(0,a.jsx)(s.p,{children:"Mourem els zips a la maquina de mongo:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ShellSession",children:"localhost:~$ scp *.zip {server}:/home/gisce/sips\n202502_SIPS2_CONSUMOS_ELECTRICIDAD_peninsular.zip                                            100%   18GB  59.4MB/s   05:12\n202502_SIPS2_PS_ELECTRICIDAD_peninsular.zip                                                  100%  934MB  60.4MB/s   00:15\n"})}),"\n",(0,a.jsx)(s.h2,{id:"preparar-zips-per-a-la-c\xe0rrega",children:"Preparar zips per a la c\xe0rrega"}),"\n",(0,a.jsx)(s.p,{children:"Moure els zips a una carpeta temporal on tinguem espai i usarem unzip:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ShellSession",children:"localhost:~$ unzip 202502_SIPS2_CONSUMOS_ELECTRICIDAD_peninsular.zip\nArchive:  202502_SIPS2_CONSUMOS_ELECTRICIDAD_peninsular.zip\n  inflating: 202502_SIPS2_CONSUMOS_ELECTRICIDAD_peninsular.csv\nlocalhost:~$ unzip 202502_SIPS2_PS_ELECTRICIDAD_peninsular.zip\nArchive:  202502_SIPS2_PS_ELECTRICIDAD_peninsular.zip\n  inflating: 202502_SIPS2_PS_ELECTRICIDAD_peninsular.csv\n"})}),"\n",(0,a.jsx)(s.h2,{id:"executar-carrega",children:"Executar carrega"}),"\n",(0,a.jsx)(s.h3,{id:"carrega-punts-de-subministrament",children:"Carrega Punts de Subministrament"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ShellSession",children:"./mongoimport -c cnmc_sips --port 27017 --host 192.168.0.6 -d tec --file 202502_SIPS2_PS_ELECTRICIDAD_peninsular.csv --type=csv --upsertFields=cups --columnsHaveTypes --fieldFile=header.csv\n"})}),"\n",(0,a.jsx)(s.h3,{id:"carrega-consums",children:"Carrega Consums"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ShellSession",children:"./mongoimport -c cnmc_sips --port 27017 --host 192.168.0.6 -d tec --file 202502_SIPS2_CONSUMOS_ELECTRICIDAD_peninsular.csv --type=csv --upsertFields=cups --columnsHaveTypes --fieldFile=consums.csv\n"})})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>l,x:()=>c});var n=r(6540);const a={},i=n.createContext(a);function l(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);